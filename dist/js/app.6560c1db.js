(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],s=0,f=[];s<i.length;s++)o=i[s],a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(f.length)f.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(r=!1)}r&&(u.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a={app:0},u=[];function i(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0b68f8":"d1ab9a26","chunk-2d0d6f02":"7a135206","chunk-495c303a":"4e7af554"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-495c303a":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d0b68f8":"31d6cfe0","chunk-2d0d6f02":"31d6cfe0","chunk-495c303a":"1e4df877"}[e]+".css",o=c.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var i=a[u],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===r||l===o))return t()}var s=document.getElementsByTagName("style");for(u=0;u<s.length;u++){i=s[u],l=i.getAttribute("data-href");if(l===r||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.request=r,n(a)},f.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(f)}).then(function(){o[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=u);var l,s=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,c.nc&&f.setAttribute("nonce",c.nc),f.src=i(e),l=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,u=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");u.type=r,u.request=o,n[1](u)}a[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:f})},12e4);f.onerror=f.onload=l,s.appendChild(f)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var d=s;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2db4":function(e){e.exports={about:["260d68b9b557ace856c6d562335bdf44"]}},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");n("8218")},8218:function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),o=n("ad59"),a=n.n(o),u=(n("aaff"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view",{attrs:{transition:"fade","transition-mode":"out-in"}})],1)}),i=[],c={name:"app"},l=c,s=n("2877"),f=Object(s["a"])(l,u,i,!1,null,null,null);f.options.__file="App.vue";var d=f.exports,p=(n("a481"),n("78f8")),h=n.n(p),g=n("a913"),m=(n("cadf"),n("551c"),n("097d"),n("d7a6")),v=n.n(m),b=(n("456d"),n("ac6a"),n("ade3")),y=n("d4ec"),O=n("bee2"),w=n("bc3a"),S=n.n(w),k={1080:"未知错误",4901:"验证码错误",4902:"用户名或密码错误",4905:"您的账号暂时无法使用",4906:"您的账号已过期",4908:"登录过于频繁，请稍后再试！"},E=n("be94"),T={appName:"cgtdesk",alias:"colgate",logogram:"cgtd",pathPrefix:"cgtdesk"},j=Object(E["a"])({appName:"",alias:"",logogram:"",pathPrefix:""},T,{rootPath:"td"}),_=j;console.log(_,void 0),S.a.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var x,N={},P=function(e){var t=e.url,n=e.body,o=void 0===n?null:n,a=e.onlyOne,u=void 0!==a&&a,i=e.responseType,c=void 0===i?"json":i;if(u&&N[t])return N[t];var l=new Promise(function(e,n){var a=config.rootPath+t;S()({method:"post",url:a,data:o,responseType:c}).then(function(o){if("json"!==c)return e(o);delete N[t];var a=o.data||{},u=a.errno,i=void 0===u?0:u,l=a.data,s=void 0===l?{}:l;return 0!==i?(r["default"].prototype.$message({message:k[i]||"请求失败",type:"error"}),n(o.data)):1===s.result?n(s.error_info||new Error("请求失败")):s.out_line?(r["default"].prototype.$message({message:"该账号已在别处登录",type:"error"}),D.push({name:"login"})):void e(s)}).catch(function(e){var o=e.response;return o&&401===o.status?D.push({name:"login"}):(r["default"].prototype.$message({message:"请求失败",type:"error"}),delete N[t],n(new Error("请求失败")))})});return u&&(N[t]=l),l},I=function(){function e(){Object(y["a"])(this,e)}return Object(O["a"])(e,[{key:"login",value:function(e){return P({url:"/auth/user/login",body:e,onlyOne:!0})}},{key:"logout",value:function(){return P({url:"/auth/user/logout"})}},{key:"getLoginInfo",value:function(){return P({url:"/auth/user/getLoginInfo"})}},{key:"getVcode",value:function(){return P({url:"/auth/user/getVerifyCode"})}}]),e}(),L=new I,A=n("2db4"),C={},J={},M=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},U=(x={},Object(b["a"])(x,g["c"],function(e,t){return L.login(t)}),Object(b["a"])(x,g["d"],function(){return L.logout()}),Object(b["a"])(x,g["a"],function(e){e.commit,e.state;return L.getLoginInfo().then(function(e){var t=window.localStorage.authInfo;if(!t||!M(JSON.parse(window.localStorage.authList||"[]"),e)){var n={};Object.keys(A).forEach(function(t){var r=A[t];"authIgnore"===r?n[t]=!0:"and"===r[0]?r.slice(1).every(function(t){return e.indexOf(t)>=0})&&(n[t]=!0):r.some(function(t){return e.indexOf(t)>=0})&&(n[t]=!0)}),window.localStorage.setItem("authInfo",JSON.stringify(n))}return window.localStorage.setItem("authList",JSON.stringify(e||"[]")),e})}),Object(b["a"])(x,g["b"],function(){return L.getVcode()}),x),G={},$={state:C,getters:J,actions:U,mutations:G};r["default"].use(v.a);var q=!1,B={},Q={},R=new v.a.Store({actions:Q,getters:B,modules:{account:$},strict:q});r["default"].use(h.a);var V=new h.a({routes:[{path:"/",component:function(){return n.e("chunk-2d0b68f8").then(n.bind(null,"1e4b"))},children:[{path:"/about",name:"about",component:function(){return n.e("chunk-2d0d6f02").then(n.bind(null,"754b"))}},{path:"/about-need-auth",name:"about-need-auth",meta:{auth:"about-need-auth"},component:function(){return n.e("chunk-2d0d6f02").then(n.bind(null,"754b"))}}],redirect:function(){return"login"}},{path:"/login",name:"login",component:function(){return n.e("chunk-495c303a").then(n.bind(null,"9760"))}}]});V.beforeEach(function(e,t,n){if(e.meta.auth){var r=JSON.parse(localStorage.authInfo||"{}");r[e.meta.auth]?n():(console.log("没有该路由的权限"),R.dispatch(g["d"]),V.replace({name:"login"}))}else n()});var D=V,F=(n("98b9"),n("5c96")),H=n.n(F),z=(n("0fae"),function(e,t){var n=t.value,r=e.querySelector(".el-input__inner"),o=e.querySelector(".num-notice");if(o)o.setAttribute("class",r.value.length>n?"num-notice num-error-notice":"num-notice"),o.innerHTML=r.value.length+"/"+n;else{var a=document.createElement("span");a.setAttribute("class",r.value.length>n?"num-notice num-error-notice":"num-notice"),a.innerHTML=r.value.length+"/"+n,e.appendChild(a)}});r["default"].directive("text-num",{inserted:z,update:function(e,t){setTimeout(function(){z(e,t)})}});var K=function(e){var t=JSON.parse(window.localStorage.authInfo||"{}");return t[e]};r["default"].directive("ele-auth",{bind:function(e,t){K(t.value)||(e.style.display="none")}}),r["default"].use(H.a),r["default"].use(a.a,{defaultDateSource:"mock",pcmsServer:""}),r["default"].config.productionTip=!1,new r["default"]({router:D,store:R,render:function(e){return e(d)}}).$mount("#app")},"98b9":function(e,t,n){},a913:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var r="LOGIN_REQUEST",o="LOGOUT_REQUEST",a="GET_LOGIN_INFO_REQUEST",u="GET_VCODE_REQUEST"}});
//# sourceMappingURL=app.6560c1db.js.map