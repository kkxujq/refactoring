(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b785b9c0"],{"00d8":function(t,e){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n})()},"05b8":function(t,e,n){"use strict";n.r(e),e["default"]={getVcode:function(){return Promise.resolve({img:"http://p8v5f1auf.bkt.clouddn.com/preview/img/mock-img.8546a42a.jpeg",pid:"mock-pid-111111"})}}},"0c38":function(t,e,n){},"1aaf":function(t,e,n){"use strict";var r=n("9454"),o=n.n(r);o.a},2455:function(t,e,n){"use strict";n.r(e);n("96cf");var r=n("1da1");e["default"]={login:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("login req data : ",JSON.stringify(e,null,4)),t.next=3,new Promise(function(t){return setTimeout(t,1e3)});case 3:if(!(Math.random()>.6)){t.next=5;break}return t.abrupt("return",Promise.reject("用户名或密码错误"));case 5:return t.abrupt("return",Promise.resolve({result:0}));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getVcode:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t){return setTimeout(t,1e3)});case 2:return t.abrupt("return",Promise.resolve({img:"http://p8v5f1auf.bkt.clouddn.com/preview/img/mock-img.8546a42a.jpeg",pid:"mock-pid-00000"}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},"3e16":function(t,e,n){},"6821f":function(t,e,n){(function(){var e=n("00d8"),r=n("9a63").utf8,o=n("044b"),i=n("9a63").bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?i.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=e.bytesToWords(t),c=8*t.length,u=1732584193,l=-271733879,f=-1732584194,d=271733878,g=0;g<s.length;g++)s[g]=16711935&(s[g]<<8|s[g]>>>24)|4278255360&(s[g]<<24|s[g]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var m=a._ff,p=a._gg,h=a._hh,v=a._ii;for(g=0;g<s.length;g+=16){var b=u,w=l,_=f,y=d;u=m(u,l,f,d,s[g+0],7,-680876936),d=m(d,u,l,f,s[g+1],12,-389564586),f=m(f,d,u,l,s[g+2],17,606105819),l=m(l,f,d,u,s[g+3],22,-1044525330),u=m(u,l,f,d,s[g+4],7,-176418897),d=m(d,u,l,f,s[g+5],12,1200080426),f=m(f,d,u,l,s[g+6],17,-1473231341),l=m(l,f,d,u,s[g+7],22,-45705983),u=m(u,l,f,d,s[g+8],7,1770035416),d=m(d,u,l,f,s[g+9],12,-1958414417),f=m(f,d,u,l,s[g+10],17,-42063),l=m(l,f,d,u,s[g+11],22,-1990404162),u=m(u,l,f,d,s[g+12],7,1804603682),d=m(d,u,l,f,s[g+13],12,-40341101),f=m(f,d,u,l,s[g+14],17,-1502002290),l=m(l,f,d,u,s[g+15],22,1236535329),u=p(u,l,f,d,s[g+1],5,-165796510),d=p(d,u,l,f,s[g+6],9,-1069501632),f=p(f,d,u,l,s[g+11],14,643717713),l=p(l,f,d,u,s[g+0],20,-373897302),u=p(u,l,f,d,s[g+5],5,-701558691),d=p(d,u,l,f,s[g+10],9,38016083),f=p(f,d,u,l,s[g+15],14,-660478335),l=p(l,f,d,u,s[g+4],20,-405537848),u=p(u,l,f,d,s[g+9],5,568446438),d=p(d,u,l,f,s[g+14],9,-1019803690),f=p(f,d,u,l,s[g+3],14,-187363961),l=p(l,f,d,u,s[g+8],20,1163531501),u=p(u,l,f,d,s[g+13],5,-1444681467),d=p(d,u,l,f,s[g+2],9,-51403784),f=p(f,d,u,l,s[g+7],14,1735328473),l=p(l,f,d,u,s[g+12],20,-1926607734),u=h(u,l,f,d,s[g+5],4,-378558),d=h(d,u,l,f,s[g+8],11,-2022574463),f=h(f,d,u,l,s[g+11],16,1839030562),l=h(l,f,d,u,s[g+14],23,-35309556),u=h(u,l,f,d,s[g+1],4,-1530992060),d=h(d,u,l,f,s[g+4],11,1272893353),f=h(f,d,u,l,s[g+7],16,-155497632),l=h(l,f,d,u,s[g+10],23,-1094730640),u=h(u,l,f,d,s[g+13],4,681279174),d=h(d,u,l,f,s[g+0],11,-358537222),f=h(f,d,u,l,s[g+3],16,-722521979),l=h(l,f,d,u,s[g+6],23,76029189),u=h(u,l,f,d,s[g+9],4,-640364487),d=h(d,u,l,f,s[g+12],11,-421815835),f=h(f,d,u,l,s[g+15],16,530742520),l=h(l,f,d,u,s[g+2],23,-995338651),u=v(u,l,f,d,s[g+0],6,-198630844),d=v(d,u,l,f,s[g+7],10,1126891415),f=v(f,d,u,l,s[g+14],15,-1416354905),l=v(l,f,d,u,s[g+5],21,-57434055),u=v(u,l,f,d,s[g+12],6,1700485571),d=v(d,u,l,f,s[g+3],10,-1894986606),f=v(f,d,u,l,s[g+10],15,-1051523),l=v(l,f,d,u,s[g+1],21,-2054922799),u=v(u,l,f,d,s[g+8],6,1873313359),d=v(d,u,l,f,s[g+15],10,-30611744),f=v(f,d,u,l,s[g+6],15,-1560198380),l=v(l,f,d,u,s[g+13],21,1309151649),u=v(u,l,f,d,s[g+4],6,-145523070),d=v(d,u,l,f,s[g+11],10,-1120210379),f=v(f,d,u,l,s[g+2],15,718787259),l=v(l,f,d,u,s[g+9],21,-343485551),u=u+b>>>0,l=l+w>>>0,f=f+_>>>0,d=d+y>>>0}return e.endian([u,l,f,d])};a._ff=function(t,e,n,r,o,i,a){var s=t+(e&n|~e&r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},a._gg=function(t,e,n,r,o,i,a){var s=t+(e&r|n&~r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},a._hh=function(t,e,n,r,o,i,a){var s=t+(e^n^r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},a._ii=function(t,e,n,r,o,i,a){var s=t+(n^(e|~r))+(o>>>0)+a;return(s<<i|s>>>32-i)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}})()},"7f77":function(t,e,n){t.exports=n.p+"img/logo_login.zh_CN.8d18160c.png"},8994:function(t,e,n){"use strict";var r=n("3e16"),o=n.n(r);o.a},9454:function(t,e,n){},9760:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("gt-login",t._b({attrs:{ds:t.dataSource}},"gt-login",t.config,!1),[n("template",{slot:"header"},[n("Header")],1),n("template",{slot:"footer"},[n("Footer")],1)],2)},o=[],i=n("be94"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-body"},[t._t("header",[n("aside",{staticClass:"slot-header"})]),n("div",{staticClass:"login-wrap"},[t.dashboardImg?n("img",{staticClass:"login-image",attrs:{src:t.dashboardImg,alt:"dashboard-img"}}):t._e(),n("div",{staticClass:"login-container"},[n("div",{staticClass:"login-head"},[n("h3",{staticClass:"login-title"},[t._v("欢迎使用高露洁受众管理平台！")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.register,expression:"register"}],staticClass:"register-title",on:{click:t.registerEmit}},[t._v("立即注册")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.register,expression:"register"}]},[t._v("没有账号?")])]),n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.formData}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入用户名","prefix-icon":"user-name-icon"},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),n("el-form-item",[n("el-input",{attrs:{type:t.showPwd?"text":"password",placeholder:"请输入密码","prefix-icon":"user-pwd-icon","suffix-icon":t.showPwd?"hide-pwd-icon":"show-pwd-icon"},nativeOn:{click:function(e){return t.togglePwdShow(e)}},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t.vcode?n("el-form-item",[n("el-input",{staticClass:"code-input",attrs:{placeholder:"验证码",maxlength:"4"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),n("image-verify",{attrs:{ds:t.dataSource},on:{"pid-change":t.pidChange}})],1):t._e(),n("el-form-item",[n("el-button",{staticClass:"login-btn",attrs:{type:"primary",disabled:t.loading||t.formInvalid},on:{click:t.confirmLogin}},[t._v("\n            登  录\n          ")])],1),n("hr")],1)],1)]),t._t("footer",[n("aside",{staticClass:"slot-footer"})])],2)},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-verify-box",on:{click:t.init}},[n("img",{staticClass:"verify-img",attrs:{src:t.imageSrc}})])},u=[],l={data:function(){return{pid:"",imageSrc:"",getImageSrc:!1}},methods:{init:function(){var t=this;if(this.getImageSrc)return!1;this.pid="",this.getImageSrc=!0,this.$DS.getVcode().then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.imageSrc=e.img||"",t.pid=e.pid||"",t.getImageSrc=!1,t.$emit("pid-change",e.pid)},function(e){console.error("get image src error :",e),t.imageSrc="",t.getImageSrc=!1})}},created:function(){this.$addDS("mock",n("05b8")),this.init()}},f=l,d=(n("d63e"),n("2877")),g=Object(d["a"])(f,c,u,!1,null,"625d4d4c",null);g.options.__file="index.vue";var m=g.exports,p={components:{ImageVerify:m},props:{vcode:{type:Boolean,default:function(){return!0}},register:{type:Boolean,default:function(){return!0}},dashboardImg:{type:String,default:function(){return null}}},data:function(){return{formData:{username:"",password:"",code:"",pid:""},showPwd:!1,loading:!1,dataSource:{}}},computed:{formInvalid:function(){var t=this.formData,e=t.username,n=t.password,r=t.code;t.pid;return this.vcode?Boolean(!e||!n||!r):Boolean(!e||!n)}},methods:{registerEmit:function(){this.$emit("register-action")},pidChange:function(t){this.formData.pid=t},togglePwdShow:function(t){var e=Array.prototype.slice.call(t.target.classList);console.log(e,11),e.indexOf("hide-pwd-icon")>=0&&(this.showPwd=!1),e.indexOf("show-pwd-icon")>=0&&(this.showPwd=!0)},confirmLogin:function(){var t=this;if(this.formInvalid)return!1;this.loading=!0,this.$DS.login(this.formData).then(function(){t.loading=!1},function(e){t.loading=!1,t.$notify.error({title:"错误",message:e||"登录失败"})})}},created:function(){this.$addDS("mock",n("2455")),this.dataSource.getVcode=this.$DS.getVcode}},h=p,v=(n("a479"),Object(d["a"])(h,a,s,!1,null,null,null));v.options.__file="index.vue";var b=v.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"footer"},[n("p",{staticClass:"copyright"},[t._v("©2018 [m]PLATFORM Mobile 京ICP备16022547号")])])}],y={name:"footer"},x=y,S=(n("8994"),Object(d["a"])(x,w,_,!1,null,"1ec84404",null));S.options.__file="footer.vue";var C=S.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("img",{staticClass:"logo-login",attrs:{src:n("7f77"),alt:"logo page"}}),r("div",{staticClass:"lang"},[r("el-button",{staticClass:"lang-btn",attrs:{size:"small"}},[t._v("ENGLISH")])],1)])},T=[],$={name:"header"},D=$,I=(n("1aaf"),Object(d["a"])(D,k,T,!1,null,"5cf78c91",null));I.options.__file="header.vue";var B=I.exports,O=n("a913"),P=n("6821f"),j=n.n(P),A={components:{GtLogin:b,Footer:C,Header:B},data:function(){return{dataSource:{login:this.login,getVcode:this.getVcode},config:{register:!1,dashboardImg:n("fa7e")}}},methods:{login:function(t){var e=this,n=t.username,r=t.password,o=t.pid,i=t.code;return this.$store.dispatch(O["c"],{username:n,password:j()("".concat(r).concat(n)),platform:"cgtdesk",dog_info:{},pid:o,code:i}).then(function(){e.$store.dispatch(O["a"]),e.$router.push("/home")})},getVcode:function(){var t=this;return this.$store.dispatch(O["b"]).then(function(t){return{pid:t.data.pid,img:t.data.img}},function(){t.$message({message:"验证码服务暂时不可用",type:"info"}),t.config=Object(i["a"])({},t.config,{vcode:!1})})}}},E=A,V=Object(d["a"])(E,r,o,!1,null,null,null);V.options.__file="login.vue";e["default"]=V.exports},"9a63":function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},a479:function(t,e,n){"use strict";var r=n("d5c1"),o=n.n(r);o.a},d5c1:function(t,e,n){},d63e:function(t,e,n){"use strict";var r=n("0c38"),o=n.n(r);o.a},fa7e:function(t,e,n){t.exports=n.p+"img/login_banner_pic.b6670eb7.png"}}]);
//# sourceMappingURL=chunk-b785b9c0.b0a48012.js.map